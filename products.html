<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="products.css">
</head>
<body>
      <!-- ====navbar=====  -->
      <div class="container">
        <header class="site-header">
            <div class="header__content--flow">
                <section class="header-content--left">
                    <a href="#" class="brand-logo">
                        <img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/site-logo-free-img.png" alt="">
                        <!-- <span class="logo-text">LOGO</span> -->
                    </a>
                    <button class="nav-toggle">
                        <span class="toggle--icon"></span>
                    </button>
                </section>
                <section class="header-content--right">
                    <nav class="header-nav" role="navigation">
                        <ul class="nav__list" aria-expanded="false">
                            <li class="list-item">
                                <a class="nav__link" href="ring.html">Home</a>
                            </li>
                            <li class="list-item">
                                <a class="nav__link" href="about.html">About</a>
                            </li>
                            <li class="list-item" id="active-nav">
                                <a class="nav__link" href="products.html">Products</a>
                            </li>
                            <li class="list-item">
                                <a class="nav__link" href="contact.html">Contact Us</a>
                            </li>
                            <li class="list-item">
                                <a class="nav__link" href="#"> <div class="box">
                                    <div class="cart-count">0</div>
                                    <ion-icon name="cart"  id="cart-icon" ></ion-icon>
                                  </div></a>
                            </li>
                        </ul>
                    </nav>
                </section>
            </div>
        </header>
    </div>

    <div class="nav">

       
       
      
        <div class="cart">
           
          <div class="cart-title">Cart Items</div>
          <div class="cart-content">
  <!--
            <div class="cart-box">
              <img src="images/97.jpg" class="cart-img">
              <div class="detail-box">
                <div class="cart-food-title">Special Dosai</div>
                <div class="price-box">
                  <div class="cart-price">Rs.72</div>
                   <div class="cart-amt">Rs.72</div>
               </div>
                <input type="number" value="1" class="cart-quantity">
              </div>
              <ion-icon name="trash" class="cart-remove"></ion-icon>
            </div>
  
            <div class="cart-box">
              <img src="images/97.jpg" class="cart-img">
              <div class="detail-box">
                <div class="cart-food-title">Special Dosai</div>
                <div class="price-box">
                  <div class="cart-price">Rs.72</div>
                   <div class="cart-amt">Rs.72</div>
               </div>
                <input type="number" value="1" class="cart-quantity">
              </div>
              <ion-icon name="trash" class="cart-remove"></ion-icon>
            </div>
          -->
    
        </div>
        <div class="total">
          <div class="total-title">Total</div>
          <div class="total-price">Rs.0</div>
        </div>
  
        <button class="btn-buy" onclick="myFunction()">Place Order</button>
  
        <ion-icon name="close" id="cart-close"></ion-icon>
  
        </div>
      </div>
    </header>
    
      <div class="shop-content">
  
  
        <div class="food-box">
          <div class="pic">
            <img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/diamond-silver-necklace-300x300.jpg" class="food-img">
          </div>
         
          <h1>Necklace</h1>
          <h2 class="food-title">
           Silver Diamond Necklace</h2>
          <span class="food-price">Rs.40</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
      
  
  
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/platinum-couple-ring-300x300.jpg" class="food-img"></div>
       
            <h1>Rings</h1>
          <h2 class="food-title">Diamond Wedding Ring</h2>
          <span class="food-price">Rs.651</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
   
    
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/gold-stones-300x300.jpg" class="food-img"></div>
    
            <h1>Earrnings</h1>
          <h2 class="food-title">Golden Diamond Earrings</h2>
          <span class="food-price">Rs.80</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
    
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/heart-pendant-300x300.jpg" class="food-img"></div>
    
            <h1>Necklace
            </h1>
         
          <h2 class="food-title">Silver Drop Necklace</h2>
          <span class="food-price">Rs.55</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
    
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/blue-stone-300x300.jpg" class="food-img"></div>
      
            <h1>Earrings
            </h1>
          <h2 class="food-title">Earrings & Necklace Set</h2>
          <span class="food-price">Rs.25</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
    
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/diamond-ring-300x300.jpg" class="food-img"></div>
          <h1>Rings</h1>
          <h2 class="food-title">Couple Engagment Rings</h2>
          <span class="food-price">Rs.150</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
    
    
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/diamond-band-300x300.jpg" class="food-img"></div>
         <h1>Rings</h1>
          <h2 class="food-title">Couple Silver Diamond Ring</h2>
          <span class="food-price">Rs.65</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
    
    
        <div class="food-box">
          <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/polka-diamonds-300x300.jpg" class="food-img"></div>
         <h1>Earrings</h1>
          <h2 class="food-title">Maroon Diamond Earrings</h2>
          <span class="food-price">Rs.65</span>
          <ion-icon name="cart" class="add-cart"></ion-icon>
        </div>
    
        <div class="food-box">
            <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/diamond-set--300x300.jpg" class="food-img"></div>
           <h1>Necklace & Earrings</h1>
            <h2 class="food-title">Maroon Diamond Pendant</h2>
            <span class="food-price">Rs.65</span>
            <ion-icon name="cart" class="add-cart"></ion-icon>
          </div>
  
          <div class="food-box">
            <div class="pic"><img src="https://websitedemos.net/jewellery-04/wp-content/uploads/sites/188/2018/04/pocket-chain-600x600.jpg" class="food-img"></div>
           <h1>Necklace</h1>
            <h2 class="food-title">Purple Heart Diamond Pendant</h2>
            <span class="food-price">Rs.65</span>
            <ion-icon name="cart" class="add-cart"></ion-icon>
          </div>
  
          <div class="food-box">
            <div class="pic"><img src="https://kinclimg6.bluestone.com/f_webp,c_scale,w_1024,b_rgb:f0f0f0/giproduct/BISP0096R06_YAA18DIG6XXXXXXXX_ABCD00-PICS-00001-1024-23645.png" class="food-img"></div>
           <h1>Rings</h1>
            <h2 class="food-title">Heart Shaped Diamond Ring</h2>
            <span class="food-price">Rs.65</span>
            <ion-icon name="cart" class="add-cart"></ion-icon>
          </div>

          <div class="food-box">
            <div class="pic"><img src="https://kinclimg5.bluestone.com/f_webp,c_scale,w_1024,b_rgb:f0f0f0/giproduct/BICM0337R03_WAA18DIG6XXXXXXXX_ABCD00-PICS-00001-1024-53478.png" class="food-img"></div>
           <h1>Rings</h1>
            <h2 class="food-title">Pure Diamond Beautiful Ring</h2>
            <span class="food-price">Rs.65</span>
            <ion-icon name="cart" class="add-cart"></ion-icon>
          </div>

      </div>
    </div>

    <script>    

        let mybutton = document.getElementById("myBtn");
        
        
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
          } else {
            mybutton.style.display = "none";
          }
        }
        
        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }
                /* ====nav bar ====  */
                const container = document.querySelector(".container");
        const primaryNav = document.querySelector(".nav__list");
        const toggleButton = document.querySelector(".nav-toggle");
        
        toggleButton.addEventListener("click", () => {
            const isExpanded = primaryNav.getAttribute("aria-expanded");
            primaryNav.setAttribute(
                "aria-expanded",
                isExpanded === "false" ? "true" : "false"
            );
        });
        
        container.addEventListener("click", (e) => {
            if (!primaryNav.contains(e.target) && !toggleButton.contains(e.target)) {
                primaryNav.setAttribute("aria-expanded", "false");
            }
        });


        const btnCart=document.querySelector('#cart-icon');
const cart=document.querySelector('.cart');
const btnClose=document.querySelector('#cart-close');

btnCart.addEventListener('click',()=>{
  cart.classList.add('cart-active');
});

btnClose.addEventListener('click',()=>{
  cart.classList.remove('cart-active');
});

document.addEventListener('DOMContentLoaded',loadFood);

function loadFood(){
  loadContent();

}

function loadContent(){
  //Remove Food Items  From Cart
  let btnRemove=document.querySelectorAll('.cart-remove');
  btnRemove.forEach((btn)=>{
    btn.addEventListener('click',removeItem);
  });

  //Product Item Change Event
  let qtyElements=document.querySelectorAll('.cart-quantity');
  qtyElements.forEach((input)=>{
    input.addEventListener('change',changeQty);
  });

  //Product Cart
  
  let cartBtns=document.querySelectorAll('.add-cart');
  cartBtns.forEach((btn)=>{
    btn.addEventListener('click',addCart);
  });

  updateTotal();
}


//Remove Item
function removeItem(){
  if(confirm('Are Your Sure to Remove')){
    let title=this.parentElement.querySelector('.cart-food-title').innerHTML;
    itemList=itemList.filter(el=>el.title!=title);
    this.parentElement.remove();
    loadContent();
  }
}

//Change Quantity
function changeQty(){
  if(isNaN(this.value) || this.value<1){
    this.value=1;
  }
  loadContent();
}

let itemList=[];

//Add Cart
function addCart(){
 let food=this.parentElement;
 let title=food.querySelector('.food-title').innerHTML;
 let price=food.querySelector('.food-price').innerHTML;
 let imgSrc=food.querySelector('.food-img').src;
 //console.log(title,price,imgSrc);
 
 let newProduct={title,price,imgSrc}

 //Check Product already Exist in Cart
 if(itemList.find((el)=>el.title==newProduct.title)){
  alert("Product Already added in Cart");
  return;
 }else{
  itemList.push(newProduct);
 }


let newProductElement= createCartProduct(title,price,imgSrc);
let element=document.createElement('div');
element.innerHTML=newProductElement;
let cartBasket=document.querySelector('.cart-content');
cartBasket.append(element);
loadContent();
}


function createCartProduct(title,price,imgSrc){

  return `
  <div class="cart-box">
  <img src="${imgSrc}" class="cart-img">
  <div class="detail-box">
    <div class="cart-food-title">${title}</div>
    <div class="price-box">
      <div class="cart-price">${price}</div>
       <div class="cart-amt">${price}</div>
   </div>
    <input type="number" value="1" class="cart-quantity">
  </div>
  <ion-icon name="trash" class="cart-remove"></ion-icon>
</div>
  `;
}

function updateTotal()
{
  const cartItems=document.querySelectorAll('.cart-box');
  const totalValue=document.querySelector('.total-price');

  let total=0;

  cartItems.forEach(product=>{
    let priceElement=product.querySelector('.cart-price');
    let price=parseFloat(priceElement.innerHTML.replace("Rs.",""));
    let qty=product.querySelector('.cart-quantity').value;
    total+=(price*qty);
    product.querySelector('.cart-amt').innerText="Rs."+(price*qty);

  });

  totalValue.innerHTML='Rs.'+total;


  // Add Product Count in Cart Icon

  const cartCount=document.querySelector('.cart-count');
  let count=itemList.length;
  cartCount.innerHTML=count;

  if(count==0){
    cartCount.style.display='none';
  }else{
    cartCount.style.display='block';
  }
  function myFunction() {

    product.querySelector('.cart-amt').innerText="Rs."+(price*qty);
 
}

}

</script>
</body></html>